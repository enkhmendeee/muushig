{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=_ref=>{let{socket}=_ref;const[playerName,setPlayerName]=useState('');const[gameId,setGameId]=useState('');const[isCreating,setIsCreating]=useState(false);const[isJoining,setIsJoining]=useState(false);const[error,setError]=useState('');const createGame=async()=>{if(!socket||!playerName.trim())return;setError('');setIsCreating(true);socket.emit('create_game',{hostName:playerName.trim()});};const joinGame=async()=>{if(!socket||!playerName.trim()||!gameId.trim())return;setError('');setIsJoining(true);socket.emit('join_game',{gameId:gameId.trim(),playerName:playerName.trim()});};useEffect(()=>{if(!socket)return;const handleJoinError=data=>{setError(data.message);setIsJoining(false);};const handleGameJoined=()=>{setIsJoining(false);setError('');};const handleGameCreated=()=>{setIsCreating(false);setError('');};socket.on('join_error',handleJoinError);socket.on('game_joined',handleGameJoined);socket.on('game_created',handleGameCreated);return()=>{socket.off('join_error',handleJoinError);socket.off('game_joined',handleGameJoined);socket.off('game_created',handleGameCreated);};},[socket]);return/*#__PURE__*/_jsx(\"div\",{className:\"home-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"game-title\",children:\"\\uD83C\\uDFAE Muushig\"}),/*#__PURE__*/_jsx(\"p\",{className:\"game-subtitle\",children:\"Traditional Mongolian Card Game (5 Players)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-section\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your name\",value:playerName,onChange:e=>setPlayerName(e.target.value),className:\"name-input\",maxLength:20})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:createGame,disabled:!playerName.trim()||isCreating,className:\"create-btn\",children:isCreating?'Creating...':'Create New Game'}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:\"or\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"join-section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Game ID\",value:gameId,onChange:e=>setGameId(e.target.value),className:\"game-id-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:joinGame,disabled:!playerName.trim()||!gameId.trim()||isJoining,className:\"join-btn\",children:isJoining?'Joining...':'Join Game'})]})]})]})});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","HomePage","_ref","socket","playerName","setPlayerName","gameId","setGameId","isCreating","setIsCreating","isJoining","setIsJoining","error","setError","createGame","trim","emit","hostName","joinGame","handleJoinError","data","message","handleGameJoined","handleGameCreated","on","off","className","children","type","placeholder","value","onChange","e","target","maxLength","onClick","disabled"],"sources":["/Users/enkhmendeee/muushig/client/src/pages/HomePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Socket } from 'socket.io-client';\n\nconst HomePage: React.FC<{\n  socket: Socket | null;\n}> = ({ socket }) => {\n  const [playerName, setPlayerName] = useState('');\n  const [gameId, setGameId] = useState('');\n  const [isCreating, setIsCreating] = useState(false);\n  const [isJoining, setIsJoining] = useState(false);\n  const [error, setError] = useState('');\n\n  const createGame = async () => {\n    if (!socket || !playerName.trim()) return;\n    \n    setError('');\n    setIsCreating(true);\n    socket.emit('create_game', { hostName: playerName.trim() });\n  };\n\n  const joinGame = async () => {\n    if (!socket || !playerName.trim() || !gameId.trim()) return;\n    \n    setError('');\n    setIsJoining(true);\n    socket.emit('join_game', { gameId: gameId.trim(), playerName: playerName.trim() });\n  };\n\n\n\n  useEffect(() => {\n    if (!socket) return;\n\n    const handleJoinError = (data: { message: string }) => {\n      setError(data.message);\n      setIsJoining(false);\n    };\n\n    const handleGameJoined = () => {\n      setIsJoining(false);\n      setError('');\n    };\n\n    const handleGameCreated = () => {\n      setIsCreating(false);\n      setError('');\n    };\n\n\n\n    socket.on('join_error', handleJoinError);\n    socket.on('game_joined', handleGameJoined);\n    socket.on('game_created', handleGameCreated);\n\n    return () => {\n      socket.off('join_error', handleJoinError);\n      socket.off('game_joined', handleGameJoined);\n      socket.off('game_created', handleGameCreated);\n    };\n  }, [socket]);\n\n  return (\n    <div className=\"home-page\">\n      <div className=\"home-container\">\n        <h1 className=\"game-title\">ðŸŽ® Muushig</h1>\n        <p className=\"game-subtitle\">Traditional Mongolian Card Game (5 Players)</p>\n        \n        <div className=\"input-section\">\n          <input\n            type=\"text\"\n            placeholder=\"Enter your name\"\n            value={playerName}\n            onChange={(e) => setPlayerName(e.target.value)}\n            className=\"name-input\"\n            maxLength={20}\n          />\n        </div>\n\n        {error && (\n          <div className=\"error-message\">\n            {error}\n          </div>\n        )}\n        \n        <div className=\"action-buttons\">\n          <button \n            onClick={createGame} \n            disabled={!playerName.trim() || isCreating}\n            className=\"create-btn\"\n          >\n            {isCreating ? 'Creating...' : 'Create New Game'}\n          </button>\n          \n          <div className=\"divider\">or</div>\n          \n          <div className=\"join-section\">\n            <input\n              type=\"text\"\n              placeholder=\"Enter Game ID\"\n              value={gameId}\n              onChange={(e) => setGameId(e.target.value)}\n              className=\"game-id-input\"\n            />\n            <button \n              onClick={joinGame} \n              disabled={!playerName.trim() || !gameId.trim() || isJoining}\n              className=\"join-btn\"\n            >\n              {isJoining ? 'Joining...' : 'Join Game'}\n            </button>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}